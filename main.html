<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="into_1.css">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

</head>

<body>
    <div class="container">
        <h1 class = "mt-3"><p class="text-primary w-100 p-3 text-secondary" style="background-color: rgb(194, 92, 92); ">Store</p></h1>
        <center><h2><input type="text" id="kw" placeholder="Search..">
        <button onclick="search()" class="btn btn-primary" >Search</button></h2></center></br>
        <center><h2><form method="post" action="insert_2.html">
        <input type="submit" value="Add Item" class="btn btn-warning">
        </form><h2></center>
        <h2><div class="grid-container font-size large" id="disp"></div></h2>
    </div>
</body>

<script>
    search();
    function search() {
        kw = document.getElementById('kw').value;
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                arr = JSON.parse(this.responseText);
                console.log(arr);
            if (arr.length == 0) {
                    document.getElementById('disp').innerHTML = "Not found";
                } else {
                    html = "";
                    for (i = 0; i < arr.length; i++) {
                        html += "<div>"+
                        "<br>"+ arr[i].nameBrand+"<br>"
                        +"<br>"+arr[i].detail
                        +"<br><img src='image/"+arr[i].image+ "'height='200' width='220'></center>"
                        +"</div>";
                    }
                    document.getElementById('disp').innerHTML = html;
                }
            }
        }
        parameters = "kw=" + kw;
        xmlhttp.open("post", "main_1.php");
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.send(parameters);
    }
</script>

</html>